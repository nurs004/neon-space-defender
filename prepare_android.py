#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –≤—Å–µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –¥–ª—è –≤—ã–ø—É—Å–∫–∞ –Ω–∞ Google Play
"""

import os
import json
from pathlib import Path

def create_android_structure():
    """–°–æ–∑–¥–∞—ë—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è Android"""
    
    print("üöÄ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Android...")
    print()
    
    # –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
    print("[1/5] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...")
    required_files = ['main.py', 'buildozer.spec', 'GOOGLE_PLAY_GUIDE_RU.md']
    for f in required_files:
        if os.path.exists(f):
            print(f"  ‚úì {f}")
        else:
            print(f"  ‚úó –û–®–ò–ë–ö–ê: {f} –Ω–µ –Ω–∞–π–¥–µ–Ω!")
    print()
    
    # –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ data
    print("[2/5] –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ data...")
    os.makedirs('data', exist_ok=True)
    print("  ‚úì –ü–∞–ø–∫–∞ data —Å–æ–∑–¥–∞–Ω–∞")
    print()
    
    # –®–∞–≥ 3: –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –∏–∫–æ–Ω–∫–∏ (–µ—Å–ª–∏ PIL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
    print("[3/5] –°–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫...")
    try:
        from PIL import Image, ImageDraw, ImageFont
        
        # –ò–∫–æ–Ω–∫–∞ 512x512
        print("  –°–æ–∑–¥–∞—ë–º icon.png...")
        icon = Image.new('RGBA', (512, 512), (10, 15, 30, 255))
        draw = ImageDraw.Draw(icon)
        
        # –ó–≤—ë–∑–¥—ã
        import random
        random.seed(42)
        for _ in range(30):
            x = random.randint(20, 490)
            y = random.randint(20, 490)
            r = random.randint(1, 3)
            draw.ellipse([x, y, x+r*2, y+r*2], fill=(200, 200, 200, 255))
        
        # –¢–µ–∫—Å—Ç
        try:
            # –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç
            font_size = 60
            # –ö–∏–∞–Ω —Ç–µ–∫—Å—Ç
            draw.text((40, 150), "NEON", fill=(0, 255, 255, 255), font=None)
            draw.text((40, 250), "SPACE", fill=(0, 255, 255, 255), font=None)
            draw.text((40, 350), "DEFENDER", fill=(255, 0, 255, 255), font=None)
        except:
            # Fallback - –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç
            draw.text((30, 200), "NEON SPACE", fill=(0, 255, 255, 255))
            draw.text((30, 350), "DEFENDER", fill=(255, 0, 255, 255))
        
        icon.save('data/icon.png')
        print("  ‚úì data/icon.png —Å–æ–∑–¥–∞–Ω–∞ (512x512)")
        
        # Presplash 1200x1920
        print("  –°–æ–∑–¥–∞—ë–º presplash.png...")
        splash = Image.new('RGB', (1200, 1920), (10, 15, 30))
        draw = ImageDraw.Draw(splash)
        
        # –ó–≤—ë–∑–¥—ã
        for _ in range(50):
            x = random.randint(50, 1150)
            y = random.randint(100, 1800)
            r = random.randint(2, 5)
            draw.ellipse([x, y, x+r, y+r], fill=(200, 200, 200))
        
        # –¢–µ–∫—Å—Ç –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ
        draw.text((150, 700), "NEON SPACE DEFENDER", fill=(0, 255, 255))
        draw.text((200, 900), "Loading...", fill=(255, 0, 255))
        
        splash.save('data/presplash.png')
        print("  ‚úì data/presplash.png —Å–æ–∑–¥–∞–Ω–∞ (1200x1920)")
        
    except ImportError:
        print("  ‚ö† PIL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–æ–∫")
        print("  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: pip install Pillow")
        print("  –°–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é:")
        print("    - data/icon.png (512x512 PNG)")
        print("    - data/presplash.png (1200x1920 PNG)")
    
    print()
    
    # –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
    print("[4/5] –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è Google Play...")
    
    privacy_policy = """–ü–û–õ–ò–¢–ò–ö–ê –ü–†–ò–í–ê–¢–ù–û–°–¢–ò
Neon Space Defender

–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2024

1. –ò–ù–§–û–†–ú–ê–¶–ò–Ø –ö–û–¢–û–†–£–Æ –ú–´ –°–û–ë–ò–†–ê–ï–ú

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Neon Space Defender:
- –ù–ï —Ç—Ä–µ–±—É–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–∞ (–∫—Ä–æ–º–µ —Å–µ–Ω—Å–æ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞)
- –ù–ï —Å–æ–±–∏—Ä–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã
- –ù–ï –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º, –∫–∞–º–µ—Ä–µ, –º–∏–∫—Ä–æ—Ñ–æ–Ω—É, GPS
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é OFFLINE

2. –ö–ê–ö –ú–´ –ò–°–ü–û–õ–¨–ó–£–ï–ú –ò–ù–§–û–†–ú–ê–¶–ò–Æ

–ú—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Ç–∞–∫ –∫–∞–∫ –µ—ë –Ω–µ —Å–æ–±–∏—Ä–∞–µ–º.

3. –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –î–ê–ù–ù–´–•

–ù–µ—á–µ–≥–æ –∑–∞—â–∏—â–∞—Ç—å - –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è.

4. –î–ï–¢–ò –ò –ü–†–ò–í–ê–¢–ù–û–°–¢–¨

–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –≤—Å–µ—Ö –≤–æ–∑—Ä–∞—Å—Ç–æ–≤:
- –ù–µ—Ç –æ–Ω–ª–∞–π–Ω —Ñ—É–Ω–∫—Ü–∏–π
- –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –ù–µ—Ç —Ä–µ–∫–ª–∞–º—ã
- –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ –∫–∞–∫ PEGI 3

5. –ö–û–ù–¢–ê–ö–¢–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –æ —ç—Ç–æ–π –ø–æ–ª–∏—Ç–∏–∫–µ:
Email: [–≤–∞—à email]

6. –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ü–û–õ–ò–¢–ò–ö–ï

–ú—ã –º–æ–∂–µ–º –æ–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç—É –ø–æ–ª–∏—Ç–∏–∫—É.
–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è.
"""
    
    with open('PRIVACY_POLICY.txt', 'w', encoding='utf-8') as f:
        f.write(privacy_policy)
    print("  ‚úì PRIVACY_POLICY.txt —Å–æ–∑–¥–∞–Ω–∞")
    
    # –®–∞–≥ 5: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
    print("[5/5] –ì–æ—Ç–æ–≤–æ! üéâ")
    print()
    
    print("=" * 60)
    print("–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:")
    print("=" * 60)
    print()
    print("1. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (–Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)")
    print("   python main.py")
    print()
    print("2. –ü–†–û–í–ï–†–ö–ê –ù–ê –¢–ï–õ–ï–§–û–ù–ï")
    print("   –°–æ–±–µ—Ä–∏—Ç–µ APK (—Å–º–æ—Ç—Ä–∏—Ç–µ GOOGLE_PLAY_GUIDE_RU.md)")
    print()
    print("3. –°–û–ó–î–ê–ù–ò–ï –ê–ö–ö–ê–£–ù–¢–ê –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê")
    print("   https://play.google.com/console")
    print("   ($25 USD –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ)")
    print()
    print("4. –ó–ê–ì–†–£–ó–ö–ê –ù–ê GOOGLE PLAY")
    print("   –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ GOOGLE_PLAY_GUIDE_RU.md")
    print()
    print("=" * 60)
    print()
    
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–∞—Ö
    print("üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê:")
    print()
    for root, dirs, files in os.walk('.'):
        level = root.replace('.', '').count(os.sep)
        indent = ' ' * 2 * level
        print(f'{indent}{os.path.basename(root)}/')
        subindent = ' ' * 2 * (level + 1)
        for file in files:
            if not file.startswith('.'):
                print(f'{subindent}{file}')
    
    print()
    print("‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤—ã–ø—É—Å–∫—É!")

if __name__ == '__main__':
    create_android_structure()
